{{>header}}
<div class="container-fluid">
  {{>sidebar}}
  <div class="container w-75 pb-5">
    {{>error}}

    {{#if  success  }} 
    <div class="alert alert-success" role="alert">
      <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a> {{success}}
    </div>
    {{/if}}


    <form action="/user/{{user._id}}/edit" method="POST" enctype="multipart/form-data">

      <div class="form-group row mt-5">
        <h3 class="col-sm-2 col-form-label ">My Account</h3>
        <div class="col-sm-10 mt-1">
          <p>Fill your modifications here </p>
        </div>
      </div>

      <div class="form-group row mt-5">
        <label for="firstname" class="col-sm-2 col-form-label">First Name</label>
        <div class="col-sm-10">
          <input id="firstname" type="text" name="firstname" class="form-control" value="{{user.firstname}}">
        </div>
      </div>
      <div class="form-group row ">
        <label for="lastname" class="col-sm-2 col-form-label">Last Name</label>
        <div class="col-sm-10">
          <input id="lastname" type="text" name="lastname" class="form-control" value="{{user.lastname}}">
        </div>
      </div>
      <div class="form-group row">
        <label for="email" class="col-sm-2 col-form-label">E-mail</label>
        <div class="col-sm-10">
          <input id="email" readonly type="text" name="email" value="{{user.email}}" class="form-control">
        </div>
      </div>

      <div class="input-group mb-3 mt-5">
        <div class="custom-file">
          <input type="file" class="custom-file-input" name="image" id="input-image"
            value="https://res.cloudinary.com/dshuazgaz/image/upload/v1602411437/avatar_el8zal.webp">
          <label class="custom-file-label" for="input-image">Choose Avatar</label>
        </div>
      </div>
      <div class="form-row mt-5">
        <div class="form-group col-md-6">
          <label for="inputService">Service</label>
          <select id="inputService" name="service" class="form-control">
            {{!-- afficher tous les service dans une boite select --}}
            {{#each services}}
            <option value="{{_id}}" {{#if selected}} selected {{/if}}>{{name}}</option>
            {{/each}}
          </select>
        </div>
        <div class="form-group col-md-6">
          <label for="inputRole">Role</label>
          <select name="role" id="inputRole" class="form-control">
            {{#each roles}}
            <option value="{{role}}" {{#if selected}} selected {{/if}}>{{role}}</option>
            {{/each}}
          </select>
        </div>
      </div>
      <button type="submit" class="btn btn-primary"><i class=" mr-1 far fa-save"></i>Save</button>
      <button type="reset" class="btn btn-secondary">Reset</button>
    </form>

    <form action="/user/{{user._id}}/edit-password" method="POST" class="mt-5 border-top pt-3 form">
      <div class="form-row mt-3">
        <div class="form-group col-md-6">
          <label for="inputPassword">Password</label>
          <input type="password" name="password" class="form-control" id="inputPassword" placeholder="********">
        </div>
        <div class="form-group col-md-6">
          <label for="inputConfirmPassword">Confirm Password</label>
          <input type="password" name="confirmPassword" class="form-control" id="inputConfirmPassword"
            placeholder="********">
        </div>
      </div>
      <button type="submit" class="btn btn-primary"><i class=" mr-1 far fa-save"></i>Save Password</button>
      <button type="reset" class="btn btn-secondary">Reset</button>

    </form>

  </div>
</div>